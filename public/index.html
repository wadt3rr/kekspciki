<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kekspciki –°–õ–ê–£</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <div class="logo">Kekspciki –°–õ–ê–£</div>
                <ul class="nav-menu">
                    <li><a href="#about">–û –ø—Ä–µ–º–∏–∏</a></li>
                    <li><a href="#nominations">–ù–æ–º–∏–Ω–∞—Ü–∏–∏</a></li>
                    <li><a href="#vote">–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</a></li>
                    <li><a href="#results">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</a></li>
                    <li id="auth-menu-item">
                        <button class="btn btn-small" id="login-btn" onclick="showAuthModal()">–í–æ–π—Ç–∏</button>
                        <span id="user-info" style="display: none;"></span>
                        <button class="btn btn-small" id="admin-btn" onclick="showAdminPanel()" style="display: none; background: var(--gradient-2);">–ê–¥–º–∏–Ω</button>
                        <button class="btn btn-small btn-secondary" id="logout-btn" onclick="logout()" style="display: none;">–í—ã–π—Ç–∏</button>
                    </li>
                </ul>
                <button class="nav-toggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="hero-subtitle">Kekspciki –°–õ–ê–£</span>
                <span class="hero-main-title">–ì–õ–ê–í–ù–ê–Ø –ü–†–ï–ú–ò–Ø<br>–ù–ê–®–ò–• –ë–´–ö–û–í</span>
            </h1>
            <p class="hero-description">–ï–∂–µ–≥–æ–¥–Ω–∞—è –ø—Ä–µ–º–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≥–ª–∞–≤–Ω—ã–µ –º–∞—Å—Ç–æ–¥–æ–Ω—Ç—ã. –í—ã–±–µ—Ä–∏ –ª—É—á—à–∏—Ö —Å—Ä–µ–¥–∏ –Ω–∞—Å.</p>
            <div class="hero-buttons">
                <button class="btn btn-primary" onclick="scrollToSection('vote')">–ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>
                <button class="btn btn-secondary" onclick="scrollToSection('about')">–û –ø—Ä–µ–º–∏–∏</button>
            </div>
        </div>
        <div class="hero-decoration"></div>
    </section>

    <!-- Countdown Timer -->
    <section class="countdown-section">
        <div class="container">
            <h2 class="countdown-title">–¶–µ—Ä–µ–º–æ–Ω–∏—è –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –Ω–∞—á–Ω–µ—Ç—Å—è —á–µ—Ä–µ–∑:</h2>
            <div class="countdown-timer" id="countdown">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">00</span>
                    <span class="countdown-label">–¥–Ω–µ–π</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">00</span>
                    <span class="countdown-label">—á–∞—Å–æ–≤</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">00</span>
                    <span class="countdown-label">–º–∏–Ω—É—Ç</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">00</span>
                    <span class="countdown-label">—Å–µ–∫—É–Ω–¥</span>
                </div>
            </div>
            <p class="countdown-date" id="event-date"></p>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <h2 class="section-title">–û –ü–†–ï–ú–ò–ò</h2>
            <div class="about-content">
                <div class="about-card">
                    <h3>–ü—Ä–µ–º–∏—è –î—Ä—É–∑–µ–π</h3>
                    <p>–ï–∂–µ–≥–æ–¥–Ω–∞—è –ø—Ä–µ–º–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–µ –º–∞—Å—Ç–æ–¥–æ–Ω—Ç—ã. –í—ã–±–µ—Ä–∏ –ª—É—á—à–∏—Ö —Å—Ä–µ–¥–∏ –Ω–∞—Å.</p>
                </div>
                <div class="about-card">
                    <h3>–ò—Å—Ç–æ—Ä–∏—è</h3>
                    <p>–í —ç—Ç–æ–º –≥–æ–¥—É –º—ã –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–æ–≤–æ–¥–∏–º –ø—Ä–µ–º–∏—é —Å—Ä–µ–¥–∏ –±—ã–∫–æ–≤. –≠—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ—Ç–∏—Ç—å –ª—É—á—à–∏—Ö –∏–∑ –ª—É—á—à–∏—Ö</p>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Voting Section -->
    <section id="vote" class="voting-section">
        <div class="container">
            <h2 class="section-title">–ì–û–õ–û–°–û–í–ê–ù–ò–ï</h2>
            <div class="voting-content">
                <div class="voting-info">
                    <h3>–¢–≤–æ–π –≥–æ–ª–æ—Å –≤–∞–∂–µ–Ω!</h3>
                    <p>–í—ã–±–µ—Ä–∏ –ª—É—á—à–∏—Ö –¥—Ä—É–∑–µ–π –≤ –∫–∞–∂–¥–æ–π –Ω–æ–º–∏–Ω–∞—Ü–∏–∏. –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä—è–º–æ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –Ω–æ–º–∏–Ω–∞—Ü–∏–π –≤—ã—à–µ.</p>
                    <p style="margin-top: 1rem; color: var(--text-secondary);">–ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª <a href="#nominations" style="color: var(--primary-color);">–ù–æ–º–∏–Ω–∞—Ü–∏–∏</a> —á—Ç–æ–±—ã –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Nominations Section -->
    <section id="nominations" class="nominations-section">
        <div class="container">
            <h2 class="section-title">–ù–û–ú–ò–ù–ê–¶–ò–ò</h2>
            <div class="nominations-grid" id="nominations-grid">
                <!-- Nominations will be loaded dynamically -->
            </div>
        </div>
    </section>

    

    <!-- Results Section -->
    <section id="results" class="results-section">
        <div class="container">
            <h2 class="section-title">–ò–¢–û–ì–ò –ì–û–õ–û–°–û–í–ê–ù–ò–Ø</h2>
            <div class="results-content">
                <div class="results-controls">
                    <select id="results-nomination-filter" class="results-filter">
                        <option value="">–í—Å–µ –Ω–æ–º–∏–Ω–∞—Ü–∏–∏</option>
                    </select>
                    <button class="btn btn-primary" onclick="loadResults()">–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
                </div>
                <div id="results-container" class="results-container">
                    <p class="results-loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...</p>
                </div>
            </div>
        </div>
    </section>

    

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">Kekspciki –°–õ–ê–£</div>
                <p class="footer-tagline">–ü–†–ï–ú–ò–Ø, –ì–î–ï –í –í–´–ë–û–†–ï –õ–£–ß–®–ò–• –£–ß–ê–°–¢–í–£–ï–®–¨ –¢–´!</p>
                <div class="footer-links">
                    <a href="#about">–û –ø—Ä–µ–º–∏–∏</a>
                    <a href="#nominations">–ù–æ–º–∏–Ω–∞—Ü–∏–∏</a>
                    <a href="#vote">–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</a>
                    <a href="#results">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</a>
                </div>
                <p class="footer-copyright">2025 ¬© Kekspciki –°–õ–ê–£</p>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div class="modal" id="auth-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAuthModal()">&times;</button>
            <div class="modal-body">
                <h2 id="auth-modal-title">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
                <div id="auth-tabs">
                    <button class="auth-tab active" onclick="switchAuthTab('login')">–í—Ö–æ–¥</button>
                    <button class="auth-tab" onclick="switchAuthTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
                <form id="auth-form" class="auth-form">
                    <div class="form-group" id="username-group">
                        <label for="auth-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" id="auth-username" name="username" required placeholder="–í–≤–µ–¥–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                    </div>
                    <div class="form-group" id="email-group" style="display: none;">
                        <label for="auth-email">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <input type="email" id="auth-email" name="email" placeholder="email@example.com">
                    </div>
                    <div class="form-group" id="display-name-group" style="display: none;">
                        <label for="auth-display-name">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <input type="text" id="auth-display-name" name="display_name" placeholder="–¢–≤–æ–µ –∏–º—è">
                    </div>
                    <div class="form-group">
                        <label for="auth-password">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="auth-password" name="password" required placeholder="–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å">
                    </div>
                    <button type="submit" class="btn btn-primary btn-block" id="auth-submit-btn">–í–æ–π—Ç–∏</button>
                </form>
                <div id="auth-error" class="auth-error" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- Nomination Selection Modal -->
    <div class="modal nomination-selection-modal" id="nomination-selection-modal">
        <div class="modal-content nomination-selection-content">
            <button class="modal-close" onclick="closeNominationModal()">&times;</button>
            <div class="modal-body nomination-selection-body">
                <h2 id="nomination-modal-title" class="nomination-modal-title"></h2>
                <p id="nomination-modal-description" class="nomination-modal-description"></p>
                
                <div class="candidates-selection-grid" id="candidates-selection-grid">
                    <!-- Candidates will be loaded here -->
                </div>
                
                <form id="nomination-vote-form" class="nomination-vote-form-modal" onsubmit="handleNominationVoteFromModal(event)">
                    <input type="hidden" id="selected-candidate-id" name="candidate_id" required>
                    <input type="hidden" id="selected-nomination-id" name="nomination_id" required>
                    <button type="submit" class="btn btn-primary btn-block" id="submit-vote-btn" disabled>
                        –ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Image Fullscreen Modal -->
    <div class="modal image-fullscreen-modal" id="image-fullscreen-modal">
        <button class="modal-close image-fullscreen-close" onclick="closeImageFullscreen()">&times;</button>
        <div class="image-fullscreen-container">
            <img id="image-fullscreen-img" src="" alt="" />
        </div>
    </div>

    <!-- File Upload Modal -->
    <div class="modal" id="file-upload-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeFileUploadModal()">&times;</button>
            <div class="modal-body">
                <h2 id="file-upload-title">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h2>
                <div class="file-upload-container">
                    <div class="file-upload-area" id="file-upload-area">
                        <input type="file" id="file-input" accept="" style="display: none;" />
                        <div class="file-upload-dropzone" id="file-dropzone">
                            <div class="file-upload-icon">üìÅ</div>
                            <p class="file-upload-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ <span class="file-upload-link">–≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</span></p>
                            <p class="file-upload-hint" id="file-upload-hint"></p>
                        </div>
                    </div>
                    <div class="file-upload-preview" id="file-upload-preview" style="display: none;">
                        <div class="file-preview-content">
                            <div class="file-preview-info">
                                <span id="file-preview-name"></span>
                                <span id="file-preview-size"></span>
                            </div>
                            <button type="button" class="btn btn-small btn-secondary" onclick="clearFileSelection()">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </div>
                    <div class="file-upload-candidate-name" id="file-upload-candidate-name" style="display: none;">
                        <div class="form-group">
                            <label for="candidate-name-input">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                            <input type="text" id="candidate-name-input" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required />
                        </div>
                    </div>
                    <div class="file-upload-progress" id="file-upload-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <p class="progress-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>
                    <div class="file-upload-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeFileUploadModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button type="button" class="btn btn-primary" id="upload-submit-btn" onclick="uploadFile()" disabled>–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                    </div>
                    <div id="file-upload-error" class="file-upload-error" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content" style="max-width: 1000px; max-height: 90vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeAdminPanel()">&times;</button>
            <div class="modal-body">
                <h2 style="margin-bottom: 2rem;">üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchAdminTab('nominations')">–ù–æ–º–∏–Ω–∞—Ü–∏–∏</button>
                    <button class="admin-tab" onclick="switchAdminTab('candidates')">–ö–∞–Ω–¥–∏–¥–∞—Ç—ã</button>
                </div>
                
                <!-- Nominations Tab -->
                <div id="admin-nominations-tab" class="admin-tab-content active">
                    <div class="admin-section-header">
                        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–∏–Ω–∞—Ü–∏—è–º–∏</h3>
                        <button class="btn btn-primary btn-small" onclick="showAddNominationForm()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    <div id="admin-nominations-list" class="admin-list">
                        <!-- Nominations will be loaded here -->
                    </div>
                </div>
                
                <!-- Candidates Tab -->
                <div id="admin-candidates-tab" class="admin-tab-content">
                    <div class="admin-section-header">
                        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏</h3>
                    </div>
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="admin-nomination-filter">–§–∏–ª—å—Ç—Ä –ø–æ –Ω–æ–º–∏–Ω–∞—Ü–∏–∏:</label>
                        <select id="admin-nomination-filter" class="form-control" onchange="loadAdminCandidates()">
                            <option value="">–í—Å–µ –Ω–æ–º–∏–Ω–∞—Ü–∏–∏</option>
                        </select>
                    </div>
                    <div id="admin-candidates-list" class="admin-list">
                        <!-- Candidates will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-body" id="modal-body">
                <!-- Modal content will be inserted here -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

